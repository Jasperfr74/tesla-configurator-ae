<h1>Step 1: Choose your Model and color</h1>

<div class="step-1-container">
    <div class="tesla-models" [formGroup]="step1Form">
        <label for="modelSelect">Model:</label>
        <select name="models" id="modelSelect" formControlName="currentModel" (change)="onModelChange()">
            @if (teslaModelInformation?.length) {
                <option value="" selected>Choose...</option>
                @for (option of teslaModelInformation; track option.code) {
                    <option [value]="option.description">{{ option?.description }}</option>
                }
            }
        </select>
    </div>

    @if (selectedModelColors?.length) {
        <div class="tesla-colors" [formGroup]="step1Form">
            <label for="colorSelect">Color:</label>
            <select name="colors" id="colorSelect" formControlName="currentColor" (change)="onColorChange()">
                <option value="" selected>Choose...</option>
                @for (color of selectedModelColors;track color.code) {
                    <option [value]="color.code">{{ color?.description }}</option>
                }
            </select>
        </div>
    }
</div>

<app-image [path]="step1Form.get('imagePathGenerated')?.value" [alt]="selectedModel?.description"/>
